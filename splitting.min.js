!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.Splitting=n()}(this,function(){"use strict";function t(t){return n(t).map(function(t,n){return t._splitting||(t._splitting={el:t},t.className+=" splitting"),t._splitting})}function n(t,n){return Array.prototype.slice.call(t.nodeName?[t]:t[0].nodeName?t:(n||document).querySelectorAll(t),0)}function e(t,n,e){return e&&(t[n+"s"]=e,t.el.style.setProperty("--total-"+n+"s",e.length),e.map(function(t,e){t.style.setProperty("--"+n+"-index",e)})),t}function r(t,n,e,r){var i=t.innerText;return t.innerHTML="",i.split(e).map(function(e,i){var o=document.createElement("i");return o.className=n,o.setAttribute("data-"+n,e),o.innerText=(r&&i>0?" ":"")+e,t.appendChild(o),o})}return t.$=n,t.index=e,t.split=r,t.children=function(r,i,o){return t(r).map(function(t){return e(t,o,n(i,t.el))})},t.words=function(n){return t(n).map(function(t,n){return t.words?t:e(t,"word",r(t.el,"word",/\s+/,!0))})},t.chars=function(n){return t.words(n).map(function(t){return t.chars?t:e(t,"char",t.words.reduce(function(t,n,e){return t.concat(r(n,"char",""))},[]))})},t});