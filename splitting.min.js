!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.Splitting=n()}(this,function(){"use strict";function e(e){return n(e).map(function(e,n){return e._splitting||(e._splitting={el:e},e.className+=" splitting"),e._splitting})}function n(e,n){return Array.prototype.slice.call(e.nodeName?[e]:e[0].nodeName?e:(n||document).querySelectorAll(e),0)}function t(e,n,t){return t&&(e[n+"s"]=t,e.el.style.setProperty("--total-"+n+"s",t.length),t.map(function(e,t){e.style.setProperty("--"+n+"-index",t)})),e}function r(e,t,r,i){var o=n(e.childNodes);return e.innerHTML="",o.reduce(function(n,o){var u=o.innerText,c=o[u?"innerText":"wholeText"].trim();return c.length?(u&&(o.innerHTML="",e.appendChild(o)),n.concat(c.split(r).map(function(n){var r=document.createElement("span");return r.className=t,r.setAttribute("data-"+t,n),r.innerText=n,(u?o:e).appendChild(r),i&&r.insertAdjacentText("beforebegin"," "),r}))):n},[])}return e.$=n,e.index=t,e.split=r,e.children=function(r,i,o){return e(r).map(function(e){return t(e,o,n(i,e.el))})},e.words=function(n){return e(n).map(function(e,n){return e.words?e:t(e,"word",r(e.el,"word",/\s+/,!0))})},e.chars=function(n){return e.words(n).map(function(e){return e.chars?e:t(e,"char",e.words.reduce(function(e,n,t){return e.concat(r(n,"char",""))},[]))})},e});