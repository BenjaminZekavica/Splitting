!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.Splitting=t()}(this,function(){"use strict";function n(n){return t(n).map(function(n,t){return n._splitting||(n._splitting={el:n},n.className+=" splitting"),n._splitting})}function t(n,t){return Array.prototype.slice.call(n.nodeName?[n]:n[0].nodeName?n:(t||document).querySelectorAll(n),0)}function e(n,t,e){return e&&(n[t+"s"]=e,n.el.style.setProperty("--total-"+t+"s",e.length),e.map(function(n,e){n.style.setProperty("--"+t+"-index",e)})),n}function r(n,t,e,r){var i=n.innerText;return n.innerHTML="",i.split(e).map(function(e,i){var o=document.createElement("span");return o.className=t,o.setAttribute("data-"+t,e),o.innerText=e,n.appendChild(o),r&&o.insertAdjacentText("beforebegin"," "),o})}return n.$=t,n.index=e,n.split=r,n.children=function(r,i,o){return n(r).map(function(n){return e(n,o,t(i,n.el))})},n.words=function(t){return n(t).map(function(n,t){return n.words?n:e(n,"word",r(n.el,"word",/\s+/,!0))})},n.chars=function(t){return n.words(t).map(function(n){return n.chars?n:e(n,"char",n.words.reduce(function(n,t,e){return n.concat(r(t,"char",""))},[]))})},n});